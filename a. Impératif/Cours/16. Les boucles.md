
### La boucle `for`

---

La boucle `for` est tr√®s pratique pour **boucler sur les √©l√©ments d'une collection**.

Les cha√Ænes de caract√®res sont en quelque sorte une **collection** de caract√®res et on peut √† ce titre boucler dessus de la m√™me fa√ßon.

Enfin les [ranges](Cours/a.%20Imp√©ratif/13.%20Les%20listes.md#Les%20ranges) vus pr√©c√©demment peuvent √™tre it√©r√©es sans avoir √† les convertir en liste.

```python
ma_liste = [1, 2, 3, 4]
for nb in ma_liste:
    print(nb + 2) # Nous printons chaque chiffre dans ma_liste en ajoutant 2

ma_string = "python"
for char in ma_string:
    print(f"la lettre {char} !")

for x in range(5):
    print(x)
```

<br>

Pour acc√©der aux **index** des √©l√©ments lorsqu'on boucle sur une liste, il est pertinent d'utiliser `enumerate()`.

```python
ma_liste = ['a', 'b', 'c', 'd', 'e']
for index, char in enumerate(ma_liste):
    print(f"la lettre {char} est √† l'index {index}.")
```

:pushpin: Vous remarquerez que la fonction `enumerate` permet √† la fois d'obtenir la valeur de chaque √©l√©ment de la liste mais √©galement son index.

<div style="page-break-after: always;"></div>

### La boucle `for else`

---

Cette boucle se comporte comme une boucle `for` √† l'exception qu'une branche `else` va pouvoir √™tre plac√©e en dessous du bloc `for` contenant un `break` et il s'ex√©cutera si √† aucun moment, la condition pour sortir de la boucle n'est remplie.

```python
ma_liste = [False, False, False, False, False]

for booleen in ma_liste:
    if booleen is True:
        print("√©l√©ment vrai trouv√©!")
        break
else:
    print("Tous les √©l√©ments de la liste sont faux ü•≤")
```

<br>
<br>
<br>

### La boucle `while`

---

La boucle `while` va r√©p√©ter des instructions **tant que** sa condition de sortie n'est pas rempli.

```python
total = 20
x = 0

while x < total:
    print(x)
    x += 1 # on n'oublie pas d'incr√©menter x √† chaque it√©ration
```

:pushpin: la notation `x++` n'existe pas en python

> :warning: Boucle infinie
>
> Attention √† garantir une condition de sortie √† votre boucle sous peine de cr√©er une boucle infinie. Dans l'exemple pr√©c√©dent, si je n'incr√©mente pas `x` √† chaque it√©ration, il sera toujours inf√©rieur √† `total` et on ne sortira jamais de la boucle.

<div style="page-break-after: always;"></div>

### `continue` et  `break`

---

Ces mot cl√©s vont permettre de sortir de la boucle lorsqu'une condition n'est plus remplie au cours de l'it√©ration.

**<u>`continue`</u>**

Permet d'emp√™cher la continuation de l'it√©ration en cours et va passer √† la suivante sans effectuer le reste du code de la boucle.

```python
ma_liste = ["COUCOU", "PYTHON", "lowercase"]

# Chaque fois qu'on croise une string en uppercase on passe √† l'it√©ration suivante sans ex√©cuter le reste du code
for string in ma_liste:
    if string.isupper():
        continue
    print(string) # nous ne printons que "lowercase"
```

**<u>`break`</u>**

Permet de compl√®tement sortir de la boucle courante.

```python
ma_liste = [1, 2, 3, 4, 5]

for x in ma_liste:
    if x >= 4:
        print("C'en est trop pour moi, je m'en vais!")
        break
    print(x)
```

<div style="page-break-after: always;"></div>

### Les compr√©hensions de listes

---

<https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions>

Feature exclusive de python, elle permettent de boucler sur une liste et effectuer des op√©rations en utilisant une synthaxe plus compacte. **Cela nous retourne une nouvelle liste**.

Les applications courantes des "compr√©hensions" consistent √† cr√©er de nouvelles listes dans lesquelles chaque √©l√©ment est le r√©sultat de certaines op√©rations appliqu√©es √† chaque membre d'une autre s√©quence ou it√©rable, ou √† cr√©er une sous-s√©quence de ces √©l√©ments qui satisfont √† une certaine condition.

Sans compr√©hension de liste, si nous voulons extraire les chiffres pairs d'une liste et les multiplier par 2, notre code pourrait ressembler √† ceci.

```python
ma_liste = [1, 2, 3, 4, 5]
liste_paire = []

for x in ma_liste:
    if x % 2 == 0: # modulo, permet de calculer le reste de la division euclidienne entre x et 2
        liste_paire.append(x*2)

print(liste_paire) # [4, 8]
```

<br>

Avec une compr√©hension de liste, le code n√©cessaire est plus compact.

```python
ma_liste = [1, 2, 3, 4, 5]

# structure : [<ACTION TRUE> for <ELEMENT> in <LISTE> if <CONDITION>]
liste_paire = [x*2 for x in ma_liste if x % 2 == 0]

print(liste_paire) # [4, 8]
```

> :warning: Compact ne rime pas avec qualit√©
>
> Les compr√©hensions de liste proposent une fonctionnalit√© int√©ressante pour faire des op√©rations  sur des listes, mais comme pour les [assignations parall√®les et multiples de variables](Cours/a.%20Imp√©ratif/6.%20Les%20variables.md#%20Les%20affectations%20de%20variable), ou [l'op√©rateur ternaire](Cours/a.%20Imp√©ratif/11.%20Les%20structures%20conditionnelles.md#Op√©rateur%20ternaire), elles sont √† utiliser avec mesure et doivent √™tre √©vit√©es lorsque cela met en p√©ril la lisibilit√© de votre code.
>
> ```python
> sorted_datas = [data.strip(' ').split('/') for data in message.content.split(':')[1].split(',')]
> ```

<div style="page-break-after: always;"></div>

### `any` et `all`

---

**<u>Fonctionnement</u>**

Vont permettre de boucler sur une liste de conditions et de retourner `True` ou `False` si une des conditions, ou la totalit√© est `False`.

```python
any_false = any([True, True, True, False])
all_true  = all([True, True, True])

print(any_false) # True au moins une condition est False
print(all_true)  # True car toutes les conditions sont True
```

Ces mots-cl√©s peuvent √™tre particuli√®rement utiles lorsqu'on a beaucoup de condition a v√©rifier dans le m√™me `if`.

<br>

**<u>Exemple any</u>**

```python
phone = "06 56 26 37 28"

if phone.startswith("06") or phone.startswith("07") or phone.startswith("04"):
    print("Num√©ro de t√©l√©phone valide")

# En utilisant any()
if any([phone.startswith("06"), phone.startswith("07"), phone.startswith("04")]):
    print("Num√©ro de t√©l√©phone valide")
```

<br>

**<u>Exemple all</u>**

```python
mail = "mail@gmail.com"

if len(mail) > 8 and '@' in mail and mail.endswith(".com"):
    print("Mail valide")

# En utilisant all()
if all([len(mail) > 8, '@' in mail, mail.endswith(".com")]):
    print("Mail valide")
```

<div style="page-break-after: always;"></div>

**<u>Exemples liste en compr√©hension</u>**

`any()` et `all()` peuvent √™tre particuli√®rement puissants dans le cadre d'une compr√©hension de liste.

```python
ma_liste = [1, 3, 5, 7, 9, 11, 13, 16]
print(all([x%2 != 0 for x in ma_liste]))

notes = [12, 13, 8, 18, 20]
if any([x >= 10 for x in notes]):
    print("un cancre est parmis nous!") # Au moins une des notes est en dessous de 10
```

<br>
<br>
<br>

[Exercice: "16. Les boucles"](../Exercices/16.%20Les%20boucles.md)
